# Fix simple-artifact-builder for pnpm compatibility

## Problem

`simple-artifact-builder` fails when used with pnpm because pnpm uses symlinks in `node_modules`. The builder attempts to copy symlinks as regular files, resulting in:

```
Error: EISDIR: illegal operation on a directory, copyfile
'/path/to/node_modules/some-package' -> '/path/to/.artifact/contents/node_modules/some-package'
Code: EISDIR
```

## Root Cause

pnpm's `node_modules` structure uses symlinks pointing to `.pnpm/` store. When `simple-artifact-builder` copies files, it doesn't dereference symlinks - it tries to copy them as-is, which fails.

## Required Fix

When copying `node_modules`, the builder must follow/dereference symlinks to copy the actual file contents rather than the symlink itself.

### Node.js fs options

Use `fs.copyFile` with dereferencing or use `fs.cp` (Node 16.7+) with `dereference: true`:

```typescript
await fs.cp(src, dest, {
  recursive: true,
  dereference: true  // follow symlinks
});
```

## Acceptance Criteria

- [ ] `simple-artifact-builder zip` works with pnpm-managed `node_modules`
- [ ] Symlinks are dereferenced and copied as regular files/directories
- [ ] Existing npm/yarn compatibility is preserved
